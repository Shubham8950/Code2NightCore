@model Code2Night.DAL.Common.MyBlogs
@{
    ViewBag.Title = "Blogs";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script>
    $(document).ready(function () {
        $('.dropdown-toggle').dropdown();
    });
</script>
<div class="page-intro">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <ol class="breadcrumb">
                    <li><i class="fa fa-home pr-10"></i><a href="@Url.Action("index","User")">Home</a></li>
                    <li class="active">@ViewBag.Title</li>
                </ol>
            </div>
        </div>
    </div>
</div>
<section class="main-container">

    <div class="container">
        <div class="row">
             <div class="main col-md-12" >
                    <div>
                    <div id="lvCandidatestbl"  class="masonry-grid row">
                    @foreach (var blog in Model.BlogsList)
                    {
                            <div class="masonry-grid-item col-sm-6 col-md-4" id="mydiv">
                                <article class="clearfix blogpost">
                                    @if (blog.VideoEmbed != null)
                                    {
                                    <div class="embed-responsive embed-responsive-16by9">
                                        @Html.Raw(blog.VideoEmbed)
                                    </div>
                                    }
                                    <div class="blogpost-body">
                                        <div class="post-info">
                                            <span class="day">@blog.Date.ToString("dd")</span>
                                            <span class="month">@blog.Date.ToString("MMM yyyy")</span>
                                        </div>
                                        <div class="blogpost-content">
                                            <header>
                                                <h2 class="title"><a href="~/Blog/MyBlog/@blog.BlogUrl">@blog.Title</a></h2>
                                                <div class="sdubmitted"><i class="fa fa-user pr-5"></i> by <a href="~/Blog/Author/@blog.AuthorId-@blog.AuthorName">@blog.AuthorName</a></div>
                                            </header>
                                            <p>@Html.Raw(blog.BlogBody)</p>
                                        </div>
                                    </div>
                                    <footer class="clearfix">
                                        <ul class="links pull-left">
                                            <li><i class="fa fa-tags pr-5"></i>
                                            @foreach (var str in blog.Tags.Split(',').ToList())
                                            { 
                                                <a href="~/Blog/Tags/@str">@str @(blog.Tags.Split(',').ToList().IndexOf(str).Equals(blog.Tags.Split(',').ToList().Count-1)?"":",")</a>
                                            }
                                            </li>
                                        </ul>
                                        <a class="pull-right link" href="~/Blog/MyBlog/@blog.BlogUrl"><span>Read more</span></a>
                                    </footer>
                                </article>
                            </div>
                    }
                    </div>
                </div>
                <div style="margin:auto auto" id="pagination"></div>
            </div>
        </div>
    </div>

</section>
<link href="https://cdn.bootcss.com/simplePagination.js/1.6/simplePagination.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/simplePagination.js/1.6/jquery.simplePagination.js"></script>
<script>
    $(document).ready(function () {
        paginationTable();
    });
     function paginationTable() {
        var items = $("#lvCandidatestbl #mydiv");
        var numItems = items.length;
        var perPage = 9;
        items.slice(perPage).hide();
        $("#pagination").pagination({
            items: numItems,
            itemsOnPage: perPage,
            cssStyle: "light-theme",
            onPageClick: function (pageNumber) {
                var showFrom = perPage * (pageNumber - 1);
                var showTo = showFrom + perPage;
                items.hide().slice(showFrom, showTo).show();
            }
        });
    }
</script>
